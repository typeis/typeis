{"version":3,"file":"typeis.core.js","sources":["../src/index.ts"],"sourcesContent":["import {ITypeis} from \"./ITypeis\";\r\n\r\nclass Typeis implements ITypeis {\r\n    value: any\r\n    defaultTypes: string[]\r\n\r\n    constructor(value: any) {\r\n        this.value = value;\r\n    }\r\n\r\n    validate(type: string) {\r\n        let format = this.type(type).toLowerCase()\r\n\r\n        if (format === 'array') {\r\n            console.warn(`Validate method has been validate only singular type check, please try \"every\" or \"some\" method`)\r\n            return false\r\n        }\r\n\r\n        if (format === 'regexp') {\r\n            return type.test(this.get())\r\n        } else if (format === 'string') {\r\n            if (this.defaultTypes.includes(type)) {\r\n                return this.get().toLowerCase() === type.toLowerCase()\r\n            } else if (Typeis.prototype.hasOwnProperty(type)) {\r\n                return this[type]()\r\n            } else {\r\n                throw new Error(`${type} module not found, please install ${type}. npm install @typeis/${type}`)\r\n            }\r\n        }\r\n    }\r\n\r\n    every(type: string[]): boolean {\r\n        return type.every(t => this.validate(t))\r\n    }\r\n\r\n    some(type: string[]): boolean {\r\n        return type.some(t => this.validate(t))\r\n    }\r\n\r\n    get(): string {\r\n        return this.type(this.value)\r\n    }\r\n\r\n    type(value: any): string {\r\n        return Object.prototype.toString.call(value).replace(/^\\[object |]$/gi, '')\r\n    }\r\n\r\n    static register({name, handler, deps}: { name: string, handler: () => any, deps?: string | string[] }): void {\r\n        if (deps) {\r\n            if (typeof deps === 'string') {\r\n                if (!Typeis.prototype.hasOwnProperty(deps)) {\r\n                    throw new Error(`${name} has required ${deps} module, please install before ${deps}. npm install @typeis/${deps}`)\r\n                }\r\n            } else if (Array.isArray(deps)) {\r\n                let notExist = deps.filter(module => !Typeis.prototype.hasOwnProperty(module))\r\n                if (notExist.length) {\r\n                    if (notExist.length === 1) {\r\n                        let depName = notExist[0]\r\n                        throw new Error(`${name} has required ${depName} module, please install before ${depName}. npm install @typeis/${depName}`)\r\n                    } else {\r\n                        let depNames = notExist.join(',')\r\n                        throw new Error(`${name} has required ${depNames} modules, please install before ${depNames}. npm install @typeis/{module-name}`)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (typeof handler === 'function') {\r\n            if (!Typeis.prototype.hasOwnProperty(name)) {\r\n                (Typeis.prototype as any)[name] = handler\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nTypeis.prototype.defaultTypes = ['undefined', 'null', 'boolean', 'number', 'string', 'function', 'array', 'object', 'date', 'regexp', 'symbol']\r\n\r\nexport default Typeis"],"names":["value","this","Typeis","type","format","toLowerCase","console","warn","test","get","defaultTypes","includes","prototype","hasOwnProperty","Error","every","t","_this","validate","some","Object","toString","call","replace","_a","name","handler","deps","Array","isArray","notExist","filter","module","length","depName","depNames","join"],"mappings":"kLAEA,iBAII,WAAYA,GACRC,KAAKD,MAAQA,EAkErB,OA/DIE,qBAAA,SAASC,GACL,IAAIC,EAASH,KAAKE,KAAKA,GAAME,cAE7B,GAAe,UAAXD,EAEA,OADAE,QAAQC,KAAK,oGACN,EAGX,GAAe,WAAXH,EACA,OAAOD,EAAKK,KAAKP,KAAKQ,OACnB,GAAe,WAAXL,EAAqB,CAC5B,GAAIH,KAAKS,aAAaC,SAASR,GAC3B,OAAOF,KAAKQ,MAAMJ,gBAAkBF,EAAKE,cACtC,GAAIH,EAAOU,UAAUC,eAAeV,GACvC,OAAOF,KAAKE,KAEZ,MAAM,IAAIW,MAASX,uCAAyCA,2BAA6BA,KAKrGD,kBAAA,SAAMC,GAAN,WACI,OAAOA,EAAKY,MAAM,SAAAC,GAAK,OAAAC,EAAKC,SAASF,MAGzCd,iBAAA,SAAKC,GAAL,WACI,OAAOA,EAAKgB,KAAK,SAAAH,GAAK,OAAAC,EAAKC,SAASF,MAGxCd,gBAAA,WACI,OAAOD,KAAKE,KAAKF,KAAKD,QAG1BE,iBAAA,SAAKF,GACD,OAAOoB,OAAOR,UAAUS,SAASC,KAAKtB,GAAOuB,QAAQ,kBAAmB,KAGrErB,WAAP,SAAgBsB,OAACC,SAAMC,YAASC,SAC5B,GAAIA,EACA,GAAoB,iBAATA,GACP,IAAKzB,EAAOU,UAAUC,eAAec,GACjC,MAAM,IAAIb,MAASW,mBAAqBE,oCAAsCA,2BAA6BA,QAE5G,GAAIC,MAAMC,QAAQF,GAAO,CAC5B,IAAIG,EAAWH,EAAKI,OAAO,SAAAC,GAAU,OAAC9B,EAAOU,UAAUC,eAAemB,KACtE,GAAIF,EAASG,OAAQ,CACjB,GAAwB,IAApBH,EAASG,OAAc,CACvB,IAAIC,EAAUJ,EAAS,GACvB,MAAM,IAAIhB,MAASW,mBAAqBS,oCAAyCA,2BAAgCA,GAEjH,IAAIC,EAAWL,EAASM,KAAK,KAC7B,MAAM,IAAItB,MAASW,mBAAqBU,qCAA2CA,0CAM5E,mBAAZT,IACFxB,EAAOU,UAAUC,eAAeY,KAChCvB,EAAOU,UAAkBa,GAAQC,iBAMlDxB,EAAOU,UAAUF,cAAgB,YAAa,OAAQ,UAAW,SAAU,SAAU,WAAY,QAAS,SAAU,OAAQ,SAAU"}